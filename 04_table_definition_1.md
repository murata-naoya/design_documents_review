# テーブル定義書1 レビュー文章化
## 全体
- テーブル名_idとなっていますが、これは意図的にそうしているのでしょうか。railsで作成されるidはデフォルトでPKになります。
- テーブルの命名規則として、最初の文字は小文字で始めます。小文字から始まっていないものは全て修正してください。
- テーブルの命名規則として、半角スペースは使わずに_（アンダーバー）を使用しましょう。
- テーブルの命名規則として、複数形になっていないものは複数形にしましょう。
- usersテーブル以外のcreated_atはユーザー登録日時ではないので、カラム説明を変更する必要があります。
- usersテーブル以外のupdated_atでも同じように、名前を変更する必要があります。
- カラム名の先頭にテーブル名が付いているものに関して、わざわざつけなくても判別できるのでつける必要はありません。（user_email→emailなど）

## admins
- PKがありません。
- テーブル名が複数形になっていません。
- テーブル名の先頭が小文字になっていません。

## users
- テーブル名の最初の文字は小文字にする必要があります。
- user_l_nameなどの真ん中の文字の"l" は何かの略称でしょうか。カラム名を略称で書くのは分かりづらく、相手から見たときにどんな略し方なのか、人によって略し方が変わってくるので、略さないで表示させましょう。
- 郵便番号や電話番号の数字は、最初に0が来るケースがあるのと計算に用いる数字ではないので、stringで管理します。
- 退会ステータスは登録中か退会しているかの二択なので、型はbooleanにしましょう。
- 配送先住所は配送先テーブルから情報を引っ張ってくるので必要ありません。
- menber_statusカラム名はユーザーの何のステータスなのかをわかる名前にしましょう。

## products
- ディスクIDは必要でしょうか。もう一度親子関係を見直してください。
- FKが一つもありませんが、CDに必要なジャンル・レーベル・アーティストの情報はどのように引っ張ってきますか。
- 在庫数は入荷したら手打ちで数値を打ち込むのでしょうか。それではタイプミスが起きやすく、購入された際にも数値の変更をすることが必要になってしまいます。在庫数は入荷数 - 購入数で算出できるので、必要ありません。
- 在庫ステータスをカラムとして用意すると、上記と同じように数値が変更された際にデータを変更する必要があります。わざわざカラムを作る必要はなく、在庫がないときに表示される文字が変わるような仕様にすればいいだけなので、カラムとしては必要ありません。

## discs
- disc_idにINDEXがありません。
- 親カラムであるproducts_idですが、複数形ではないのでproduct_idになります。
- track_numは何を指しているのでしょうか。もし曲順であるのなら、discsてーブルに必要なのかをもう一度考えてみてください。曲順は曲がCDの中でどの順番なのかを表すものなので、曲デーブルにくるはずです。
- 複数ディスクがある場合はどのように管理しますか。

## songs
- songカラムのデータ型はintegerであっているのでしょうか。曲名は数字で管理しているのでしょうか。
- そもそもsongというカラム名では、何を保存するカラムなのかがわかりづらいです。カラム名から直してください。

## labels
- products_idは必要でしょうか。もう一度productsテーブルとの親子関係を見直してみましょう。
- labelカラムの説明がレーベルとだけありますが、これはどんな情報を保存するカラムなのでしょうか。カラム名がわかりづらいので、変更してください。
- PKがありません。railsではPKをデフォルトで設定してくれますが、このテーブル定義書では忘れずにPKを書き入れましょう。

## artists
- products_idは必要でしょうか。もう一度productsテーブルとの親子関係を見直してみましょう。
- artistカラムがありますが、これはアーティストの名前を保存するのであれば、カラム名がわかりづらいです。nameなどとし、わかりやすいものにしてください。

## genres
- products_idは必要でしょうか。もう一度productsテーブルとの親子関係を見直してみましょう。
- genreカラムがありますが、これはジャンルの名前を保存するのであれば、カラム名がわかりづらいです。nameなどとし、わかりやすいものにしてください。

## cart_items
- "buy num"というカラムがありますが、カラム名の間にスペースを入れることはできません。スネークケースを利用すると良いです。
- 親カラムであるproducts_idですが、複数形ではないのでproduct_idになります。
- 小計金額は他テーブルのデータから算出できるのではないでしょうか。

## buy_datails
- ER図では購入テーブルとリレーションになっており、購入詳細テーブルが子テーブルとなっていたはずです。
- テーブル名が"Buy details"となっており、テーブル名もカラム名と同じように文字の間は_（アンダーバー）で繋ぐようにしてください。これはスネークケースというので、活用していきましょう。"buy num"も同様です。
- テーブル名が管理者視点になっていません。このbuy_detailsというテーブルはエンドユーザーはアクセスせず、管理者のみが使用します。そのため管理者視点から命名した方がわかりやすいです。

## buys
- 購入詳細IDがありますが、こちらは必要でしょうか。
- カラム名がstockで、カラム説明が支払い合計なのは分かりづらいです。カラム名からカラムの内容が分かるような名前に変更しましょう。
- 支払い方法カラムは方法の部分なので、optionとするなどそれがわかるカラム名が望ましいです。
- 送付先の郵便番号カラムがありません。
- 配送ステータスカラムがありません。
- テーブル名を管理者視点からみた名前にしましょう。このbuysというテーブルはエンドユーザーはアクセスせず、管理者のみが使用します。そのため管理者視点から命名した方がわかりやすいです。

-----------------------------------------------------------------------------------------------------------

# テーブル定義書1 問題抽出
## 全体、##共通
- idがない
- テーブル名の最初の文字は小文字で始める
- テーブルのPKが無いものは追記する
- テーブル名に半角スペースがあるものは_でつなぐ
- created_atとupdated_atを登録日時、更新日時にする
- テーブル名が複数系になっていないものは複数形にする

## Admin
- AUTO INCREMENtとINDEXにチェックがない
- メールアドレスとパスワードにadmin_はいらない
- idがない
- テーブル名が複数形でない
- PKがない

## users
- user_l_nameはカラムの名前として分かりづらいので避けたほうがいい
- user_tel、user_email、user_passwordはusersのテーブルというのがわかっているので、わざわざuserと書く必要はない
- ステータスの型をbooleanにする
- 郵便番号と電話番号の型はstring
- 配送先住所は配送先テーブルがありそちらから情報を引っ張ってくるので、カラムを持つ必要はない
- member_statusはuser_statusなどにする、userは必要ないので、statusでもOK

## products
- ディスクIDは必要ない
- ジャンルID、レーベルID、アーティストIDのFKにチェックが付いていない
- 商品登録時では在庫数がいくつかは分からないため、在庫数のnot:nullは外す
- cd_image、cd_title、はcdを外してシンプルにする
- 在庫ステータスは0の時とそうでないときに表示を変更すればいいだけなのでカラムを作る必要はない
- 在庫数は入荷数 - 購入数で計算できるのでカラムとしては必要ない

## discs
- ディスクIDにINDEXが付いていない
- products_idではなく、product_idにする
- track_numは曲順を表しているので、songsテーブルに入れる
- CDが複数入ることを見越してCD枚数カラムを格納するカラムを作る

## songs
- songカラムは曲名なのでstring
- 名前を入れるのでnameとする

## labels
- 商品IDは必要ない
- 名前を入れるのでnameとする

## artists
- アーティスト名は文字列なのでstring
- 商品IDは必要ない
- 名前を入れるのでnameとする

## genres
- ジャンル名は文字列なのでstring
- 商品IDは必要ない
- 名前を入れるのでnameとする

## cart_items
- 商品IDのデータ型が書かれていない
- buy numの間は＿でつなぐ
- product_idとする（複数形のsがいらない）
- 小計金額は商品の値段を足すだけなので、カラムを作る必要はない

## buy_datails
- product_idが無い
- buy_idが無い
- テーブル名を_でつなぐ
- buy numの間の空白を_でつなぐ
- テーブル名が管理者視点になっていないので、order_datailsなどとする

## buys
- buy_details_Idが必要ない
- テーブル名が複数形になっていない
- 支払い合計はtotal_countなどとしてわかりやすいように
- payはoptionなどとしてわかりやすいように
- 送付先の郵便番号がありません
- 配送ステータスがない
- テーブル名が管理者視点になっていないので、ordersなどとする

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

# 研修担当レビュー
再提出はふようですが、次の指摘に注意して下さい。
## Users
- ステータスの命名をstatusにしてしまうと、userの何のステータスを表現するのかわからなくなりませんか。

-----------------------------------------------------------------------------------------------------------

# テーブル定義書1 文章化
どちらでも良い[fix]→修正する必要があるもの。[comment]→編集する必要はない追記情報。[add]→追加すべき事

## 全体
- usersテーブル以外のcreated_atはユーザー登録日時ではないので、名前を変更する必要があります。
  -[comment]名前より「カラム説明を変更する必要があります」と明記した方が分かりやすい気がします。
  
- idが足りないテーブルがあります。railsではidを作成してくれますが、テーブル設計に書き入れましょう。足りない部分は追加をしてください。
  - [fix]railsで作成されるidはデフォルトでPKになります。idをデフォルトで作成せず、PKを他のにする事も出来ます。しかしながらPKをいちいちテーブル名_idとしているのは意図している通りなのかを確認する文章を作りましょう。idの代わりにadmin_id等をつけている可能性があるので。

## users
- カラム名の先頭に"user"と付いているものは全て外しましょう。
  - [fix]全体に同様な指摘があるので、この文章は必要がないです。
  > カラム名の先頭にテーブル名が付いているものに関して、わざわざつけなくても判別できるのでつける必要はありません。（user_email→emailなど）

## products
- ディスクIDは必要でしょうか。もう一度親子関係を見直してください。
- FKが一つもありませんが、CDに必要なジャンル・レーベル・アーティストの情報はどのように引っ張ってきますか。

- 在庫ステータスをカラムとして用意すると、上記と同じように数値が変更された際にデータを変更する必要があります。わざわざカラムを作る必要はなく、在庫がないときに表示される文字が変わるような仕様にすればいいだけなので、カラムとしては必要ありません。
- cd_title, cd_imageの"cd_"という部分は必要でしょうか。それがなくても何に対してのimage,titleなのかは明確なので、わざわざ入れる必要はないです。
  - [fix]全体に同様な指摘があるので、この文章は必要がないです。
  > カラム名の先頭にテーブル名が付いているものに関して、わざわざつけなくても判別できるのでつける必要はありません。（user_email→emailなど）

## labels
- [add]PKがないのを指摘していません。

## cart_items
- 商品IDのデータ型が記入されていません。忘れずに記入してください。
　- [fix]全体ですでに指摘済みの内容です。なので、この一文は必要ないです。
 　　> idが足りないテーブルがあります。railsではidを作成してくれますが、テーブル設計に書き入れましょう。足りない部分は追加をしてください。
- "buy num"というカラムがありますが、カラム名の間にスペースを入れることはできません。間は_(アンダーバー)で繋ぐようにしてください。
  -[fix]複数単語のカラム名はスネークケースを利用するとした方が良い。
  
## buy_datails
- ER図では購入テーブルとリレーションになっており、購入詳細テーブルが子テーブルとなっていたはずです。
- テーブル名が"Buy details"となっており、テーブル名もカラム名と同じように文字の間は_（アンダーバー）で繋ぐようにしてください。
　- [fix]上記でも指摘しましたが、スネークケースという単語を使って知ってもらった方が、今後の検索に活用されやすくなります。
- 購入枚数を表す"buy num"というカラムですが、文字の間にスペースを入れることはできません。文字の間は_(アンダーバー)で繋ぐようにしてください。
  - [fix]上記との指摘内容が被っているので、まとめて一文で指摘しても良いと思います。
- テーブル名が管理者視点になっていません。
  - [fix]なぜ管理者視点にすべきなのかを書いた方が良いです。

## buys
- 購入詳細IDがありますが、こちらは必要でしょうか。
- カラム名がstockで、カラム説明が支払い合計なのは分かりづらいです。
  - [fix]上記からどういう行動を取って欲しいかを書きましょう。
  
- 支払い方法カラムは方法の部分なので、optionとするなどそれがわかるカラム名が望ましいです。
  - [comment]上記と同様な原因による指摘内容なので、まとめても良いと思います。
- テーブル名を管理者視点からみた名前にしましょう。
  - [fix]なぜ管理者視点にすべきなのかを書いた方が良いです。
  
  
  
  #研修担当レビュー(2nd)
  - 合格でーす！！！
  -　次の点を修正しておけばより良くなると思うので修正しておいてください。（再提出は不要です）
  
  
  ## buy_datails
  > テーブル名が"Buy details"となっており、テーブル名もカラム名と同じように文字の間は_（アンダーバー）で繋ぐようにしてください。これはスネークケースというので、活用していきましょう。"buy num"も同様です。
  - これ"buy num"の指摘のあとにくるのは順番がおかしいはず！
  - "buy num"のところでスネークケースにしてくださいって指摘して「Buy detailsも”buy num＂と同様に~~ 」みたいにすれば良きかな
  
  
    
